<!--顶部导航显示-->
<header>
    <div id="container-nav">
        <ul id="container-navs">
            <li id="home" class="button"><span id="hpage">主页</span></li>
            <li><small>&gt;&gt;</small><span class="liudong">业务单元</span></li>
        </ul>
        <span id="closeD" class="button">x</span>
    </div>
</header>
<script>
    var h=($(window).height()-48-60);
    var w=($(window).width()-1260);
    console.log(h);
    console.log(w);
    $('#content').height(h);
    $('#content').css({"margin-left":w/2});
</script>
<div id="content">

<aside id="asideR">
    <div id="triangle"></div>
    <ul id="smipleItr">
        <li class="show1 shows1">小美在作文簿里写上长大后的愿望：一、我希望能有一个可爱的孩子；二、我还希望能有一个爱我的丈夫。结果，发现老师写了一句评语：“请注意先后顺序。”</li>
        <li class="show1 shows2">知道吗？我真的好想带你出去体验一下KTV的魅力啊！知道什么是KTV吗？就是K你一顿，T你一脚，最后我再做个V的手势耶！</li>
        <li class="show1 shows3">有一家人去看话剧，他们买的是楼上的票，可小男孩总是趴在栏杆上往下看，只听一工作人员过来说：“你们好好看着孩子，别让他掉下去，楼下是贵宾席，掉下去是要补票的……”</li>
        <li class="show1 shows4">人的染色体有23对。有一天，教生物的老头慢悠悠地问：“染色体多少对啊，同学们。”角落里某二货大声答道：“64对啊！”老头淡定而严肃地点点头：“嗯，现在告诉我，你来地球的目的是什么？”</li>
        <li class="show1 shows5">中国人美国人犹太人一起喝饮料，三只苍蝇飞入他们饮料中，美国人重要了一杯，中国人没理会就喝下，犹太人一把抓出苍蝇大喊道：“吐出来！你丫把喝下去的饮料吐出来！”</li>
    </ul>
    <br>
    <br>
    <ul id="details">
        <li class="showDtl">
            <h3 class="showDt1">与阿里合作项目1</h3>
            <p class="lined"></p>
            <img src="images/003.png"  alt="">
            <p class="showD1">老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，娃儿们吓得那个跑呀！绳子都拦不住！”</p>
        </li>
        <li class="showDtl">
            <h3 class="showDt2">与腾讯合作项目2</h3>
            <p class="lined"></p>
            <img src="images/003.png"  alt="">
            <p class="showD2">老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，娃儿们吓得那个跑呀！绳子都拦不住！”</p>
        </li>
        <li class="showDtl">
            <h3 class="showDt3">与百度合作项目3</h3>
            <p class="lined"></p>
            <img src="images/003.png"  alt="">
            <p class="showD3">老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，娃儿们吓得那个跑呀！绳子都拦不住！”</p>
        </li>
        <li class="showDtl">
            <h3 class="showDt4">与小米合作项目4</h3>
            <p class="lined"></p>
            <img src="images/003.png"  alt="">
            <p class="showD4">老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，娃儿们吓得那个跑呀！绳子都拦不住！”</p>
        </li>
        <li class="showDtl">
            <h3 class="showDt5">与优酷合作项目5</h3>
            <p class="lined"></p>
            <img src="images/003.png"  alt="">
            <p class="showD5">老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，娃儿们吓得那个跑呀！绳子都拦不住！”</p>
        </li>
    </ul>
    <ul id="asideS">
        <li class="show0"><small></small><span class="project1">与阿里合作项目1</span></li>
        <li class="show0"><small></small><span class="project2">与优酷合作项目2</span></li>
        <li class="show0"><small></small><span class="project3">与支付宝合作项目3</span></li>
        <li class="show0"><small></small><span class="project4">与百度合作项目4</span></li>
        <li class="show0"><small></small><span class="project5">与支付宝合作项目5</span></li>
    </ul>
    <div id="title0">
        <div class="yewu">业务单元</div>
        <div></div>
        <div class="danyuan">水中的鱼儿很漂亮</div>
    </div>
    <div id="back"> <small>&lt;&lt;</small><a class="back">返回</a></div>
</aside>
<div id="cover"></div>

</div>

<footer class="footer" id="footnav">
    <div id="logo">Empathink</div>
    <ul id="nav">
        <li class="show" id="about">关于我们</li>
        <li class="show active" id="business">业务单元 </li>
        <li class="show" id="services">服务案例</li>
        <li class="show" id="team">团队</li>
        <li class="show" id="join">加入我们</li>
        <li class="show" id="contact">联系我们</li>
    </ul>
</footer>
<div class="l-columns">
    <div class="localizationTool" id="widget"></div>
</div>
<script>
    $('#footer').css({"display":"none"})

    $('#closeD').click(function(){
        $('#footnav').hide();
        $('.l-columns').hide();
    })
    function clickHide(){
        $('#footnav').hide();
        $('.l-columns').hide();
    }
    $('#closeD').on('click',clickHide)
    $('#logo').on('click',clickHide)
    
    
    var details=false;
    var right = 50;
    var animating = false;
    var clicked = false;
        //动画距离右侧距离
        function rights() {
            for(var i=0;i<5;i++ ){

                var dist=$('#mainContent').width() - right - $('.show0').eq(i).width();
                $('.show0').eq(i).css({left:dist + 'px'});
            }
        }
    var box1 = document.getElementById("asideS");

    var index=$('.actives').index();
    //滚轮切换左侧内容
    function mouseScroll(idx) {
        $('.show0').eq(index).addClass('actives').siblings().removeClass('actives');
        $('.show1').eq(index).stop().show().siblings().stop().hide();
        details?$('.showDtl').eq(index).stop().fadeIn(2000).siblings().stop().fadeOut(2000):'';
    }
    //为box1绑定一个鼠标滚轮滚动的事件
    box1.onmousewheel = function(event){
        event = event || window.event;
        if(event.wheelDelta < 0 || event.detail > 0){
            if(index<5){
                ++index;
                mouseScroll(index);
            }else{
                index=-1;
                index++;
                mouseScroll(index);
            }
        }else{
            if(index>-1){
                --index;
                mouseScroll(index);
            }else{
                index=5;
                --index;
                mouseScroll(index);
            }
        }
        if(clicked){
            rights();
        }
        event.preventDefault &&　event.preventDefault();
        return false;

    };

    bind(box1 , "DOMMouseScroll" , box1.onmousewheel);
    function bind(obj , eventStr , callback){

        if(obj.addEventListener){
            obj.addEventListener(eventStr , callback , false);
        }else{
            //IE8
            obj.attachEvent("on"+eventStr , function(){
                callback.call(obj);
            });
        }
    }

    $('#asideS').on('click','li.show0',function () {
        /*$('#container-navs li:eq(2)').remove();
        $('#container-navs').append('<li><small>>> </small><span>'+$(this).text()+'</span></li>');*/
        $('#back').fadeIn(1000);
        //遮罩
        $('#cover').fadeIn(2000);
        //简介消失
        $('#smipleItr').fadeOut();
        $('#title0').fadeOut();

        //三角形
        $('#triangle').delay(500).animate({marginLeft:'868px'},1000,'swing');
        details=true;
        $('#details').fadeIn();

        var dist1 = $('#mainContent').width() - right - $('.show0:eq(0)').width();
        var dist2 = $('#mainContent').width() - right - $('.show0:eq(1)').width();
        var dist3 = $('#mainContent').width() - right - $('.show0:eq(2)').width();
        var dist4 = $('#mainContent').width() - right - $('.show0:eq(3)').width();
        var dist5 = $('#mainContent').width() - right - $('.show0:eq(4)').width();
        animating = true;

        $('.show0:eq(0)').delay(1000).animate({left:dist1 + 'px'},500,'swing');
        $('.show0:eq(1)').delay(800).animate({left:dist2 + 'px'},500,'swing');
        $('.show0:eq(2)').animate({left:dist3+ 'px'},1000,'swing');
        $('.show0:eq(3)').delay(800).animate({left:dist4 + 'px'},500,'swing');
        $('.show0:eq(4)').delay(1000).animate({left:dist5 + 'px'},500,'swing',function () {
            //延迟动画
            animating = false;
            clicked = true;
        });

        $('#content').scroll(function () {
            $('#triangle').css('top',$('#content').scrollTop()+20);
            $('.show0:eq(0)').css('top',$('#content').scrollTop()+120);
            $('.show0:eq(1)').css('top',$('#content').scrollTop()+200);
            $('.show0:eq(2)').css('top',$('#content').scrollTop()+280);
            $('.show0:eq(3)').css('top',$('#content').scrollTop()+380);
            $('.show0:eq(4)').css('top',$('#content').scrollTop()+480);
        });
//        $('#content').scroll(function () {
//            $('#triangle').css('top',$('#content').scrollTop()+60);
//            $('.show0:eq(0)').css('top',$('#content').scrollTop()+200);
//            $('.show0:eq(1)').css('top',$('#content').scrollTop()+330);
//            $('.show0:eq(2)').css('top',$('#content').scrollTop()+440);
//            $('.show0:eq(3)').css('top',$('#content').scrollTop()+560);
//            $('.show0:eq(4)').css('top',$('#content').scrollTop()+660);
//        });

        details?$('.showDtl:eq('+index+')').stop().delay(2000).fadeIn(2000).siblings().stop().hide():'';

    });
//    鼠标移动切换内容事件
    $('#asideS').on('mouseover','li.show0',function () {
        if(animating){
            return;
        }
        var i=$(this).index();
        $(this).addClass('actives').siblings().removeClass('actives');

        if(clicked){
            rights();
        }
        $('.show1').eq(i).stop().fadeIn().siblings().stop().hide();
        details?$('.showDtl').eq(i).stop().fadeIn(2000).siblings().stop().hide():'';
    });

//    返回到左侧
    function back() {
        details=false;
        clicked = false;
        $('#content').unbind('scroll');



        $('#triangle').css('top','60px');
        $('#smipleItr').css('top','436px');

        $('.show0:eq(0)').css('top','200px');
        $('.show0:eq(1)').css('top','330px');
        $('.show0:eq(2)').css('top','440px');
        $('.show0:eq(3)').css('top','560px');
        $('.show0:eq(4)').css('top','660px');

        $('#back').fadeOut(1000);

        $('#cover').fadeOut(1000);

        $('.showDtl:eq('+index+')').stop().hide();
        $('#details').fadeOut();
        $('#triangle').delay(500).animate({marginLeft:'0'},1000,'swing');

//        $('#container-navs li:eq(2)').remove();

        $('.show0:eq(0)').delay(500).animate({left:'328px'},1000,'swing');

        $('.show0:eq(1)').delay(300).animate({left:'386px'},1000,'swing');

        $('.show0:eq(2)').delay(200).animate({left:'398px'},1000,'swing');

        $('.show0:eq(3)').delay(300).animate({left:'376px'},1000,'swing');

        $('.show0:eq(4)').delay(500).animate({left:'324px'},1000,'swing');

        $('#title0').delay(1500).fadeIn();
        $('#smipleItr').delay(2000).fadeIn();
    }
    $('#container-navs li:eq(1)').click(function () {
        back();
    });
    $('#back').click(function () {
        back()
    });

    //    中英文切换
    $('#widget').localizationTool({
        'defaultLanguage' : 'zh_CN',
        strings: {
            'id:hpage': {
                en_GB: 'Home',
                zh_CN: '主页'
            },
            'class:liudong': {
                en_GB: 'Commercian unit',
                zh_CN: '业务单元'
            },
            'id:about': {
                en_GB: 'About us',
                zh_CN: '关于我们'
            },
            'id:business': {
                en_GB: 'Commercian unit',
                zh_CN: '业务单元'
            },
            'id:services': {
                en_GB: 'Service Case',
                zh_CN: '服务案例'
            },
            'id:team': {
                en_GB: 'Team',
                zh_CN: '团队'
            },
            'id:join': {
                en_GB: 'Join us',
                zh_CN: '加入我们'
            },
            'id:contact': {
                en_GB: 'Contact us',
                zh_CN: '联系我们'
            },
            'class:yewu': {
                en_GB: 'Commercian unit',
                zh_CN: '业务单元'
            },
            'class:danyuan': {
                en_GB: 'didadidadida',
                zh_CN: '水中的鱼儿很漂亮'
            },
            'class:shows1': {
                en_GB: 'Xiaomei wrote in the composition of the desire to grow up: First, I hope to have a lovely child; Second, I also hope to have a love my husband. As a result, ' +
                'the teacher found a comment: "Please note the order."',
                zh_CN: '小美在作文簿里写上长大后的愿望：一、我希望能有一个可爱的孩子；二、我还希望能有' +
                '一个爱我的丈夫。结果，发现老师写了一句评语：“请注意先后顺序。”'
            },
            'class:shows2': {
                en_GB: 'If you offend the boss, lost just a job; if you offend the customer, lost just an order; yes, there is only one person in the world can offend: you give her face to see, you rushed her to complain Loudly contradict her, even in front of her face wrestling bowl, she will not hate you, the reason is very simple, ' +
                'because she is your mother.',
                zh_CN: '知道吗？我真的好想带你出去体验一下KTV的魅力啊！知道什么是KTV吗？就是K你一顿，T你一脚，最后我再做个V的手势耶！'
            },
            'class:shows3': {
                en_GB: 'There is a family to see the drama, they buy the ticket upstairs, the little boy is always lying on the railing down to see, just listen to a staff member said: "You look at the child, do not let him fall,' +
                ' Under the VIP seats, fall is to make a ticket ... ... "',
                zh_CN: '有一家人去看话剧，他们买的是楼上的票，可小男孩总是趴在栏杆上往下看，只听一工作人员过来说：“你们好好看着孩子，' +
                '别让他掉下去，楼下是贵宾席，掉下去是要补票的……”'
            },
            'class:shows4': {
                en_GB: 'If you offend the boss, lost just a job; if you offend the customer, lost just an order; yes, there is only one person in the world can offend: you give her face to see, you rushed her to complain Loudly contradict her, even in front of her face wrestling bowl, she will not hate you, the reason is very simple, ' +
                'because she is your mother.',
                zh_CN: '人的染色体有23对。有一天，教生物的老头慢悠悠地问：“染色体多少对啊，同学们。”角落里某二货大声答道：“64对啊！”老头淡定而严肃地点点头：“嗯，现在告诉我，' +
                '你来地球的目的是什么？”'
            },
            'class:shows5': {
                en_GB: 'Chinese Americans Jews drink together, three flies fly into their drinks, the Americans important cup, the Chinese people did not care to drink, the Jews caught a fly shouted:' +
                ' "spit it out! You Ah to drink Drink spit out! "',
                zh_CN: '中国人美国人犹太人一起喝饮料，三只苍蝇飞入他们饮料中，美国人重要了一杯，中国人没理会就喝下，' +
                '犹太人一把抓出苍蝇大喊道：“吐出来！你丫把喝下去的饮料吐出来！”'
            },
            'class:showDt1':{
                en_GB: 'Cooperation with Ali1',
                zh_CN: '与阿里合作项目1'
            },
            'class:showD1': {
                en_GB: 'Grandmother watching the Olympic Games after 100 meters racing exclaimed: "really scary! Several coal mining kneeling in a row, a gun to shoot them not aimed at the shot,' +
                ' the wanderers scared that run! Can not stop! "',
                zh_CN: '老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，' +
                '娃儿们吓得那个跑呀！绳子都拦不住！”'
            },
            'class:showDt2': {
                en_GB: 'Cooperation with Tencent2',
                zh_CN: '与腾讯合作项目2'
            },
            'class:showD2': {
                en_GB: 'Grandmother watching the Olympic Games after 100 meters racing exclaimed: "really scary! Several coal mining kneeling in a row, a gun to shoot them not aimed at the shot,' +
                ' the wanderers scared that run! Can not stop! "',
                zh_CN: '老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，' +
                '娃儿们吓得那个跑呀！绳子都拦不住！”'
            },
            'class:showDt3': {
                en_GB: 'Cooperation with Baidu3',
                zh_CN: '与百度合作项目3'
            },
            'class:showD3': {
                en_GB: 'Grandmother watching the Olympic Games after 100 meters racing exclaimed: "really scary! Several coal mining kneeling in a row, a gun to shoot them not aimed at the shot,' +
                ' the wanderers scared that run! Can not stop! "',
                zh_CN: '老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，' +
                '娃儿们吓得那个跑呀！绳子都拦不住！”'
            },
            'class:showDt4': {
                en_GB: 'Cooperation with millet4',
                zh_CN: '与小米合作项目4'
            },
            'class:showD4': {
                en_GB: 'Grandmother watching the Olympic Games after 100 meters racing exclaimed: "really scary! Several coal mining kneeling in a row, a gun to shoot them not aimed at the shot,' +
                ' the wanderers scared that run! Can not stop! "',
                zh_CN: '老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，' +
                '娃儿们吓得那个跑呀！绳子都拦不住！”'
            },
            'class:showDt5': {
                en_GB: 'Cooperation with Youku5',
                zh_CN: '与优酷合作项目5'
            },
            'class:showD5': {
                en_GB: 'Grandmother watching the Olympic Games after 100 meters racing exclaimed: "really scary! Several coal mining kneeling in a row, a gun to shoot them not aimed at the shot,' +
                ' the wanderers scared that run! Can not stop! "',
                zh_CN: '老奶奶看完奥运会百米赛跑后惊呼：“真吓人！几个挖煤的跪成一排，一个拿枪的要枪毙他们可没瞄准就开枪了，' +
                '娃儿们吓得那个跑呀！绳子都拦不住！”'
            },
            'class:back': {
                en_GB: 'back',
                zh_CN: '返回'
            },
            'class:project1': {
                en_GB: 'Cooperation with Ali1',
                zh_CN: '与阿里合作项目1'
            },
            'class:project2': {
                en_GB: 'Cooperation with Tencent2',
                zh_CN: '与腾讯合作项目2'
            },
            'class:project3': {
                en_GB: 'Cooperation with Baidu3',
                zh_CN: '与百度合作项目3'
            },
            'class:project4': {
                en_GB: 'Cooperation with millet4',
                zh_CN: '与小米合作项目4'
            },
            'class:project5': {
                en_GB: 'Cooperation with Youku5',
                zh_CN: '与优酷合作项目5'
            },

        }
    });
    (function () {
        var key;
        var languagesObj = $('#widget').data('settings').languages;
        for (key in languagesObj) {
            if (languagesObj.hasOwnProperty(key)) {
                var direction = 'ltr';
                if (languagesObj[key].hasOwnProperty('cssDirection')) {
                    direction = languagesObj[key].cssDirection;
                }
                $('.listOfLanguages').append([
                    '<li><div class="',
                    languagesObj[key].flag['class'],'"></div>',
                    '<div>',
                    key,
                    ' - ',
                    languagesObj[key].country,
                    languagesObj[key].hasOwnProperty('country') ? [' (', languagesObj[key].language, ') '].join('') : languagesObj[key].language,
                    '<div style="direction:',direction, ';" class="light">',
                    languagesObj[key].countryTranslated,
                    languagesObj[key].hasOwnProperty('country') ? [' (', languagesObj[key].languageTranslated, ') '].join('') : languagesObj[key].languageTranslated,
                    '</div>'
                ].join(''));
            }
        }
    })();

    //关闭按钮
    var shut=function () {
        // console.log('shutting');
        $('#container-nav').stop().fadeOut(100);
        $('#content').stop().fadeOut(500);
        $('.show').removeClass('active');
        $('#footer').fadeOut(500).delay(1000).fadeIn(1500);
        onLeave();
    };
    $('#home').click(shut);
    $('#logo').click(shut);
    $('#closeD').click(shut);

    //底部导航切换事件
    var activeIndex=$('.active').index();
    $('#nav .show').on('click',function () {
        $('#footer').css({"display":"none"});

        //导航切换
        ($('#container-navs ').children().length>1)?$('#container-navs li:last-child').remove():'';

        var title=$(this).text();
        // $('#container-navs').append('<li><small>>> </small><span>'+title+'</span></li>');
        // $('.liudong').html(title);
        $('#content').scrollTop(0);


        // 控制摄像头拉近

        var currentIndex=$(this).index();

        switchFocus(currentIndex);

        //切换弹框内容
        ((currentIndex!=activeIndex)&&(currentIndex!=props.index)) ? enter(title):'';

        activeIndex=currentIndex;

    });



</script>